<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="repository.IBboardDao">
	
	<insert id="insertContent" parameterType="board">
			insert into BBOARD (ID, WRITER, TITLE, CONTENT, WRITEDATE, READCOUNT, FILE_NAME, FILE_TYPE, FILE_PATH,
			FILE_ORIGINAL_NAME) values(BBOARD_SEQ.nextval, #{writer}, #{title}, #{content}, sysdate, 
			#{readCount}, #{fileName, jdbcType=VARCHAR}, #{fileType, jdbcType=VARCHAR}, 
			#{filePath, jdbcType=VARCHAR}, #{fileOriginalName, jdbcType=VARCHAR})
	</insert>
	
	<select id="showList" resultType="repository.BboardVo">
			select * from BBOARD
	</select>
	
	<select id="getContentInfo" parameterType="String" resultType="board">
			select * from BBOARD where ID=#{id}
	</select>
	
	<update id="readCountUp" parameterType="String">
			update BBOARD set READCOUNT=READCOUNT+1 where ID=#{id}
	</update>
	
	<update id="updateContent" parameterType="board">
			update BBOARD set WRITER=#{writer}, TITLE=#{title}, CONTENT=#{content}, 
			WRITEDATE=sysdate where ID=#{id}
	</update>
	
	<delete id="deleteContent" parameterType="String">
			delete from BBOARD where ID=#{id}
	</delete>
	
	<select id="searchWriter" parameterType="String" resultType="repository.BboardVo">
			select * from BBOARD where WRITER like '%'||#{searchWr}||'%'
	</select>
	
	<!-- 검색 연습 -->
	<select id="searchKey" parameterType="String" resultType="repository.SamboardVo">
		select * from SAMBOARD where WRITER like '%'||#{searchKey}||'%'
	</select>
	
	<!-- <select id="boardPaging" parameterType="repository.Criteria" resultType="repository.BboardVo">
			<![CDATA[select * from (select ROWNUM RNUM, ID, WRITER, TITLE, 
			CONTENT, WRITEDATE, READCOUNT, FILE_NAME, FILE_TYPE, FILE_PATH
			(select * from BBOARD order by ID desc)) 
			where RNUM>=#{rowStart} and RNUM<=#{rowEnd} ]]>
	</select>
	
	<select id="listCount" resultType="Integer">
			<![CDATA[select count(ID) from BBOARD where id>0]]>
	</select> -->
	
</mapper>



























